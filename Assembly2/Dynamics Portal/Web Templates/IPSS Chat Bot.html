<style>
    #botIcon {
        width: 24px;
        height: 24px;
        background-size: contain;
        background-image: url('data:image/png;base64,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');
        float: left;
        margin: 2px;
    }

    #botLabel {
        width: 24px;
        float: right;
        writing-mode: vertical-lr;
        transform: rotate(180deg);
        height: 60px;
        text-align: center;
        margin: 4px;
        color: white;
    }

    #botActivator {
        float: left;
        height: 100px;
        width: 30px;
        position: fixed;
        top: 200px;
        z-index: 1000;
        background-color: #0094ff;
        left: 0px;
        border-radius: 2px 2px;
        vertical-align: middle;
        align-content: center;
        padding: 4px 4px 4px 4px;
        cursor: pointer;
    }

    #botDiv {
        float: right;
        position: fixed;
        bottom: 0;
        z-index: 1001;
        background-color: #fff;
        height: 600px;
    }

    .out {
        transition: left 1s ease;
        left: -405px;
    }

    .in {
        transition: left 1s ease;
        left: 0px;
    }
</style>
<script>

    function chat() {
        var div = document.createElement("div");
        document.getElementsByTagName('body')[0].appendChild(div);
        div.outerHTML = "<div id='botDiv' class='out'><div id='botTitleBar' style='height: 38px; width: 400px; position:fixed; cursor: pointer;'></div><iframe width='400px' height='600px' src='https://webchat.botframework.com/embed/IPSSChatBot?s=2696gY0x8BQ.cwA.IF8.dLk-3FNznQ3p91HCvFYTCz70u0Le-OmSyFbYJRfXk74&username={{ user.fullname }}&userid={{ user.id }}'></iframe></div>";
        var div2 = document.createElement("div");
        document.getElementsByTagName('body')[0].appendChild(div2);
        div2.outerHTML = "<div id='botActivator'><div id='botLabel'>Chat</div><div id='botIcon'></div></div>"
        document.querySelector('body').addEventListener('click', function (e) {
            e.target.matches = e.target.matches || e.target.msMatchesSelector;
            if (e.target.matches('#botActivator') || e.target.matches('#botTitleBar') || e.target.matches('#botIcon') || e.target.matches('#botLabel')) {
                var botDiv = document.querySelector('#botDiv');
                //botDiv.style.height = botDiv.style.height == '600px' ? '0px' : '600px';
                if (botDiv.className == "in") {
                    botDiv.className = 'out';
                }
                else {
                    botDiv.className = 'in';
                }
            };
        });
    };
    chat();
</script>